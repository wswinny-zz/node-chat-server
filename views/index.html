<!doctype html>
<html>
	<head>
		<title>Socket.IO chat</title>
		<link rel='stylesheet' href='css/chatStyle.css'>
	</head>
	<body>
		
		<ul id='chatrooms'></ul>

		<ul id='messages'></ul>
		
		<form align='center' id='messageForm' action=''>
			<input id='messageInput' autocomplete='off' />
			<input id='sendMessage' type='submit' value='Send Message'/>
		</form>
		
		<script src='https://cdn.socket.io/socket.io-1.2.0.js'></script>
		<script src='http://code.jquery.com/jquery-1.11.1.js'></script>
		
		<script>
			var socket = io();

			socket.on('init', function(params)
			{
				console.log(params);
			});

			$('form').submit(function()
			{
				socket.emit('chat message', $('#messageInput').val());
				$('#messageInput').val('');
				
				return false;
			});
			
			socket.on('chat message', function(msg)
			{
				$('#messages').append(msg);
				$('#messages').scrollTop($('#messages')[0].scrollHeight);
			});

			socket.on('clear chat', function(data)
			{
				$('#messages').empty();
			});

		</script>
	</body>
</html>
